#!/bin/bash
set -e

# install brew
[ -d ~/.homebrew ] || mkdir ~/.homebrew
curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C ~/.homebrew
export PATH=$HOME/.homebrew/bin:$PATH
type brew

# install nvm
if [ ! -d ~/.nvm ]; then
  export NVM_DIR=
  curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
fi

# brew cask install
echo "
  alfred
  android-studio
  calibre
  google-chrome
  iterm2
  skype
  slack
  sourcetree
  spectacle
  spotify
  visual-studio-code
" | xargs -L1 brew cask install

# brew install
echo "
  git
  python
  rbenv
  tree
  watchman
  zsh
  zsh-autosuggestions
  zsh-completions
  zsh-syntax-highlighting
" | xargs brew install

# pip3 install
type pip3
pip3 install powerline-shell

# install oh-my-zsh
if [ ! -d ~/.oh-my-zsh ]; then
  git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
  sudo chsh -s ~/.homebrew/bin/zsh "$USER"
fi
